# Architecture Decision Records (ADR) - Decisiones 2025

**Versi√≥n**: 1.0.0 (Decisiones consolidadas)  
**Actualizado**: 2025-08-08 (Fecha estandarizada + inconsistencias resueltas)  
**Estado**: Registro oficial de decisiones arquitect√≥nicas  

## Introducci√≥n

Este documento registra las decisiones arquitect√≥nicas tomadas el **2025-08-08** durante la refactorizaci√≥n completa del sistema BAMBU. Estas decisiones reemplazan y actualizan los ADRs previos.

---

## ADR-008: Desarrollo Local Sin Docker

### Estado: ‚úÖ Aceptado
### Fecha: Agosto 2025
### Contexto
El equipo evalu√≥ usar Docker para desarrollo vs desarrollo local directo.

### Decisi√≥n
**Desarrollo local directo** usando Laragon en Windows.

### Razones
1. **Equipo peque√±o**: 1-2 desarrolladores, no necesitamos portabilidad
2. **Setup m√°s simple**: Laragon ya provee todo lo necesario
3. **Performance**: Sin overhead de virtualizaci√≥n
4. **Debugging**: M√°s directo y familiar

### Consecuencias
- ‚úÖ Setup m√°s r√°pido
- ‚úÖ Menos complejidad
- ‚úÖ Mejor performance local
- ‚ùå Menos portabilidad (pero no la necesitamos)

---

## ADR-009: PostgreSQL como Base de Datos Principal

### Estado: ‚úÖ Aceptado (Decisi√≥n Corregida)
### Fecha: Agosto 2025
### Contexto
Evaluaci√≥n inicial incorrecta sugiri√≥ MySQL por conveniencia. Revisi√≥n con mentalidad de owner.

### Decisi√≥n
**PostgreSQL 15+** como base de datos principal.

### Razones (Arquitectura Correcta)
1. **JSON Support Superior**: Cotizador maneja estructuras complejas
2. **Performance**: Queries complejas y reportes m√°s eficientes
3. **Escalabilidad**: Particionamiento nativo para crecimiento
4. **Data Integrity**: ACID compliance m√°s robusto
5. **Futuro**: Features avanzadas que necesitaremos

### Consecuencias
- ‚úÖ Arquitectura s√≥lida a largo plazo
- ‚úÖ Mejor performance en casos complejos  
- ‚úÖ Escalabilidad nativa
- ‚ùå Setup inicial ligeramente m√°s complejo (justificado)

---

## ADR-010: Vue.js 3 SPA Puro (Sin Livewire)

### Estado: ‚úÖ Aceptado
### Fecha: Agosto 2025
### Contexto
MVP actual mezcla Livewire + Blade. Nueva versi√≥n necesita consistencia.

### Decisi√≥n
**Vue.js 3 SPA puro** + TypeScript + Pinia, sin mezclar con Livewire.

### Razones
1. **Consistencia**: Una sola tecnolog√≠a frontend
2. **UX moderna**: SPA ofrece mejor experiencia
3. **Separaci√≥n clara**: API backend + SPA frontend
4. **Escalabilidad**: M√°s f√°cil mantener y extender

### Consecuencias
- ‚úÖ UX/UI consistente
- ‚úÖ Separaci√≥n de responsabilidades
- ‚úÖ M√°s f√°cil testing
- ‚ùå Requiere migrar toda la l√≥gica de Livewire

---

## ADR-011: Deploy Manual (Sin CI/CD)

### Estado: ‚úÖ Aceptado
### Fecha: Agosto 2025
### Contexto
Documentaci√≥n original inclu√≠a CI/CD autom√°tico.

### Decisi√≥n
**Deploy manual** en VPS cuando el MVP est√© listo.

### Razones
1. **Simplicidad**: No necesitamos automation compleja
2. **Control**: Deploy manual permite revisi√≥n
3. **Escala**: Para equipo peque√±o es suficiente
4. **Foco**: Priorizamos funcionalidad sobre automatizaci√≥n

### Consecuencias
- ‚úÖ Menos complejidad
- ‚úÖ Control total del proceso
- ‚úÖ Foco en desarrollo
- ‚ùå Deploy m√°s lento (pero poco frecuente)

---

## ADR-012: Sin Herramientas de Monitoreo Pagos

### Estado: ‚úÖ Aceptado
### Fecha: Agosto 2025
### Contexto
Documentaci√≥n original inclu√≠a Sentry y servicios pagos.

### Decisi√≥n
**Logs nativos de Laravel** para monitoreo y debugging.

### Razones
1. **Costo**: Evitamos gastos innecesarios
2. **Suficiencia**: Laravel logs cubren nuestras necesidades
3. **Simplicidad**: Una herramienta menos que configurar
4. **Interno**: Sistema interno, no necesita monitoreo 24/7

### Consecuencias
- ‚úÖ Sin costos adicionales
- ‚úÖ Setup m√°s simple
- ‚úÖ Logs centralizados en Laravel
- ‚ùå Menos features avanzadas (pero no las necesitamos)

---

## ADR-013: Roadmap de 20 Semanas (No 16)

### Estado: ‚úÖ Aceptado
### Fecha: Agosto 2025
### Contexto
Timeline original de 16 semanas era optimista para refactorizaci√≥n completa.

### Decisi√≥n
**20 semanas (5 meses)** con buffer para calidad.

### Razones
1. **Realismo**: Migraci√≥n completa requiere m√°s tiempo
2. **Calidad**: Preferimos c√≥digo bien hecho que r√°pido
3. **Testing**: Incluye tiempo para tests desde d√≠a 1
4. **Buffer**: Margen para imprevistos

### Consecuencias
- ‚úÖ Timeline m√°s realista
- ‚úÖ Mejor calidad final
- ‚úÖ Menos estr√©s en desarrollo
- ‚ùå Go-live m√°s tard√≠o (pero m√°s s√≥lido)

---

## RESUMEN DE DECISIONES

### Stack Final Confirmado
- **Backend**: Laravel 11 + PostgreSQL + Sanctum
- **Frontend**: Vue 3 + TypeScript + Pinia + Tailwind
- **Desarrollo**: Laragon local (no Docker)
- **Deploy**: Manual en VPS
- **Monitoreo**: Laravel logs nativos

### Principios de Desarrollo
1. **Pragmatismo sobre perfecci√≥n**
2. **Simplicidad sobre complejidad**
3. **Calidad sobre velocidad**
4. **Foco en funcionalidad del negocio**

---

---

## LECCI√ìN APRENDIDA - CORRECCI√ìN IMPORTANTE

### ‚ö†Ô∏è Error de Perspectiva Inicial
Durante la configuraci√≥n inicial, se consider√≥ cambiar de PostgreSQL a MySQL por **conveniencia t√©cnica** (disponibilidad en Laragon). 

### ‚úÖ Correcci√≥n con Mentalidad de Owner
Se revirti√≥ la decisi√≥n priorizando:
1. **Arquitectura correcta** sobre conveniencia
2. **Visi√≥n a largo plazo** sobre facilidad inmediata  
3. **Calidad del producto** sobre velocidad de setup

### üìñ Principio Confirmado
> **Owner piensa en el producto y la arquitectura correcta, no en la conveniencia de desarrollo.**

---

**Documento creado**: Agosto 2025  
**Estado**: Decisiones finales aprobadas (PostgreSQL confirmado)  
**Pr√≥xima revisi√≥n**: Al finalizar Fase 0